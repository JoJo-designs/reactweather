(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(9),s=c.n(a),i=c(2),r=c(4),o=c.n(r),l=c(5),u=c(3),d=(c(7),c(0));function j(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1];function r(){return(r=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/geo/1.0/direct?q=".concat(a,"&appid=89e0b7e8dbbac9434ed75176dac7f8a3"));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,h(c),j(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var j=function(t){e.onChange(t)},h=function(e){console.log(e),(0,Object(u.useIndexedDB)("cities").add)({cityName:a,lat:e[0].lat,lon:e[0].lon}).then((function(e){console.log("ID Generated: ",e)}),(function(e){console.log(e)}))};return Object(d.jsxs)("div",{className:"searchBox",children:[Object(d.jsx)("input",{className:"inputbox",placeholder:"Search a City",value:a,name:"searchValue",type:"text",onChange:function(e){var t=e.target,c=t.value;"searchValue"===t.name&&s(c)}}),Object(d.jsx)("button",{onClick:function(){return r.apply(this,arguments)},className:"searchBtn",children:"Search"})]})}function h(e){return console.log(e),Object(d.jsx)("div",{children:"this is a working page"})}c(16),c(8);var b=c.p+"static/media/802.e7dd3721.svg",m=c.p+"static/media/800.41c6c635.svg",p=c.p+"static/media/803.e6537cfd.svg",x=c.p+"static/media/601.80108998.svg",v=c.p+"static/media/501.200911b6.svg";function O(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1];function r(){return(r=Object(l.a)(o.a.mark((function t(){var c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.cityData.lat),t.prev=1,t.next=4,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.cityData.lat,"&lon=").concat(e.cityData.lon,"&exclude=minutely,hourly,alerts&units=metric&appid=89e0b7e8dbbac9434ed75176dac7f8a3"));case 4:return c=t.sent,t.next=7,c.json();case 7:n=t.sent,console.log(n),s(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!0===e.cityData.hasData&&function(){r.apply(this,arguments)}()}),[e]);return Object(d.jsx)("div",{children:a?Object(d.jsxs)("div",{className:"forecast",children:[Object(d.jsxs)("h2",{className:"bodyHeader",children:[function(){var t=e.cityData.cityName;return t[0].toUpperCase()+t.substring(1)}()," Current Forecast"]}),Object(d.jsxs)("div",{className:"dataBox",children:[Object(d.jsxs)("div",{className:"data",children:[Object(d.jsxs)("h3",{children:["Temp: ",Math.floor(a.current.temp)]}),Object(d.jsxs)("h3",{children:["Humidity: ",Math.round(a.current.humidity)]}),Object(d.jsxs)("h3",{children:["Wind Speed: ",Math.round(a.current.wind_speed)]}),Object(d.jsx)("div",{children:a.current.uvi<3?(console.log("UV is Low"),Object(d.jsxs)("h3",{className:" uv low",children:["UV Index: ",a.current.uvi]})):a.current.uvi<4&&a.current.uvi>7?(console.log("UV is Mid"),Object(d.jsxs)("h3",{className:" uv mid",children:["UV Index: ",a.current.uvi]})):a.current.uvi>8?(console.log("UV is High"),Object(d.jsxs)("h3",{className:" uv high",children:["UV Index: ",a.current.uvi]})):void 0})]}),Object(d.jsxs)("div",{className:"weatherImg",children:[function(){var e=a.current.weather[0].id;return 500===e||501===e?(console.log("500 or 501"),Object(d.jsx)("img",{src:v})):600===e||601===e?(console.log("600 or 601"),Object(d.jsx)("img",{src:x})):800===e?(console.log("800"),Object(d.jsx)("img",{src:m})):801===e||802===e||803===e?(console.log("801 or 802 or 804"),Object(d.jsx)("img",{src:b})):804===e?(console.log("804"),Object(d.jsx)("img",{src:p})):void 0}(),Object(d.jsx)("p",{children:a.current.weather[0].description})]})]}),Object(d.jsx)("div",{className:"move",children:Object(d.jsx)(h,{fiveDay:a.daily})})]}):Object(d.jsx)("h2",{children:"Waiting for data..."})})}function f(e){var t=Object(u.useIndexedDB)("cities").getAll,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],r=a[1];Object(n.useEffect)((function(){t().then((function(e){r(e)}))}),[]);var o=function(t){e.onChange(t)};return Object(d.jsx)("div",{children:s?Object(d.jsx)("div",{children:s.map((function(e){return Object(d.jsx)("button",{className:"historyBtns",onClick:function(){return function(e){o(e)}(e)},children:e.cityName},e.id)}))}):Object(d.jsx)("div",{children:Object(d.jsx)("h4",{children:" waiting... "})})})}c(17);var g=c.p+"static/media/background.3b5a2f62.jpg";function y(){var e=Object(n.useState)({cityName:"",lat:"",lon:"",hasData:!1}),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(d.jsxs)("div",{style:{backgroundImage:"url(".concat(g,")")},children:[Object(d.jsx)("h1",{className:"header",children:"Weather Dashboard"}),Object(d.jsx)("div",{className:"bg",children:Object(d.jsxs)("section",{class:"container",children:[Object(d.jsxs)("div",{className:"oneThrid",children:[Object(d.jsx)(j,{cityData:c,onChange:function(e){a({cityName:e[0].name,lat:e[0].lat,lon:e[0].lon,hasData:!0})}}),Object(d.jsx)(f,{cityData:c,onChange:function(e){a({cityName:e.cityName,lat:e.lat,lon:e.lon,hasData:!0})}})]}),Object(d.jsx)("div",{className:"twoThrids",children:!0===c.hasData?Object(d.jsx)(O,{cityData:c}):Object(d.jsx)("h3",{children:"No data yet"})})]})})]})}function N(){return Object(d.jsx)("div",{children:Object(d.jsx)(y,{})})}Object(u.initDB)({name:"citiesDB",version:1,objectStoresMeta:[{store:"cities",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"cityName",keyPath:"cityName",option:{unique:!0}},{name:"lat",keyPath:"lat",option:{unique:!0}},{name:"lon",keyPath:"lon",option:{unique:!0}}]}]}),s.a.render(Object(d.jsx)(N,{}),document.getElementById("root"))},7:function(e,t,c){},8:function(e,t,c){}},[[18,1,2]]]);
//# sourceMappingURL=main.febf80d8.chunk.js.map